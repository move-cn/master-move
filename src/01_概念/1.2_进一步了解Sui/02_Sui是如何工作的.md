# Sui是如何工作的

现在，您已经了解了Sui与以太坊区块链的不同之处，让我们了解Sui区块链的基本架构，并了解Sui如何实现如此高的性能。

## Sui是如何工作的

有几个因素在形成Sui的基础和决定它如何运作方面起着至关重要的作用。让我们深入研究一下这些因素是什么。

Sui对象

对象所有权

交易周期

现在让我们详细探讨它们。

## Sui中的对象（MOVE体系结构）

既然我们已经了解了使用Move的意义，那么我们需要了解Sui最基本的组成部分——对象。



## 什么是对象

对象就像任何其他编程语言中的结构体一样。每个对象都可以存储任何类型的数据，无论是整数、布尔值还是地址。把对象想象成一个盒子，里面存储着不同大小的不同物品。现在每个盒子都有一个主人，对吧?每个Move对象都有一个直接在对象本身上定义的“所有者”。这意味着对象完全包含所有权信息，不需要像我们在其他区块链中看到的那样将所有权映射与资产配对。还有更多的对象所有权，所以让我们深入挖掘!

## 不同类型的对象

在Sui中，最常见的两种所有权类型是单一所有者对象和共享对象。

单个所有者对象:在单个所有者对象中，只有单个地址能够传输或使用该对象。好吧，但为什么这很重要呢?Sui上的单一所有者对象可以绕过冗长的共识过程，在不到一秒的时间内完成!现在我们已经完成了技术解释，让我用一个现实世界的例子来解释这个概念。想象一下:一家著名银行的高度安全的私人金库。这个金库只属于你，只有通过识别你指纹的生物识别系统才能进入。在里面，你可以存放你最珍贵的贵重物品——珠宝、重要文件，甚至是稀有的硬币。就像Sui上的单一拥有者一样，这个保险库由您单独控制。您可以决定何时访问它，以及存储或删除什么，而无需达成任何共识。您对保险库的操作是即时和自主的，反映了区块链数字领域中单一所有者对象的效率和安全性。

![img-1](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/assets_for_sui_c1/How%20Does%20Sui%20Even%20Work%3F/image.png?raw=true)

共享对象:共享对象没有单一的所有者，但是对所有用户开放，可以与之交互，也可以是一个定义的子集。让我们举个例子来理解这一点。现在，想象一个共同的家庭传家宝，比如说，一个精致的古董钟，在一个家庭庄园里。这个钟是一个共享的物体，就像 Sui 上的共享物体一样。每个家庭成员都有权访问，使用，甚至在特殊场合临时拆除时钟。然而，重大的决定，如出售或改变时钟，需要家庭共识，只有在集体同意后才会采取行动。这种共享管理反映了区块链中的共享对象，其中多方都有访问权和一定程度的控制权，但重大变更需要双方同意。这是关于平衡个人欲望与共同所有权的责任和特权。



## 资产所有权

区块链很酷，因为它们让你有能力拥有和管理你的数字资产，比如nft(独特的数字项目)，而不需要任何中间人。让我们来看看Sui的资产所有权有何不同。



## 其他区块链(如以太坊)的所有权:

把以太坊想象成你的nft的安全数字金库。这些nft被保存在一个叫做“智能合约”的东西里，有点像一个自动保险库。在以太坊中，账户是存储的基本单位——有你想到的典型账户(由人类拥有)和那些容纳智能合约的账户。你“拥有”的nft实际上是在它们起源的智能合约账户中持有的。现在，合约开发人员可以为该合约设置规则，就像指定您的保险库应该如何工作一样，但这里有一个问题:作为NFT持有者，您不能直接控制其中的NFT。要对你的NFT做任何事情，比如贷款或交易它们，你需要参与智能合约，并假设合约授予了你对NFT的所有权。把智能合约想象成一个中介，它会帮助你，但它也会让事情变得更复杂。例如，假设你想把一辆nft借给朋友。你不能像交实物一样交出来。你需要使用智能合约来促进这个过程。这对于以太坊上的任何其他令牌都是一样的，因为所有令牌都是通过智能合约部署的，甚至包括稳定币。

## sui上的对象所有权

现在，Sui采取了一种不同的方法。就像在家里有自己的私人画廊一样。请记住，Sui上的所有东西都是一个具有定义的所有者的对象，这意味着用户实际上对该对象拥有直接的所有权-无需信任该对象源自的智能合约。这些物品代表了你的nft，最酷的部分是它们直接存储在你的个人账户中，就像你的艺术品挂在你自己安全的家里的墙上一样。你可以直接控制。这种直接所有权意味着您可以轻松地将您的NFT借给朋友或与另一个用户进行交易，而无需作为中介处理智能合约。Sui简化了流程，将资产所有权交到您手中。由于对象(如nft)通常只有一个所有者，因此我们可以利用拥有对象事务的好处，这是闪电般的速度。现在进一步探讨事务是如何工作的，以了解拥有对象事务是如何如此快速地完成的。



## sui上的交易

Sui以不同的方式处理自有对象事务和共享对象事务。



## 自有对象交易

对于拥有的对象交易，比如转移代币，Sui在完成交易之前不需要网络达成共识。这是因为对象的所有权是直接在对象本身中定义的;只要定义的所有者是发起交易的人，交易将在不等待共识的情况下执行。Sui没有依靠典型的共识相关协议在网络上传播交易，而是使用拜占庭一致广播(BCB)协议进行拥有对象交易。与要求验证者就事务有效性达成共识的传统方式不同，拥有对象事务可以在没有共识的情况下完成，这使得它们非常快速。让我为你总结一下整个过程，发送者向网络提交一笔交易。Sui验证者通过权益证明机制投票决定交易是否符合其要求。发送者收集选票，创建一个未签名的证书，作为拜占庭容错的证明。发送方与网络共享该证书，所有验证器节点验证其有效性。对于拥有对象事务，如果证书有效，则事务将最终确定并执行。用户返回签名的证书，该证书表示事务的结束。拥有对象事务也不需要在结束之前进行排序，这意味着不相关的事务可以并行执行。例如，假设安娜给苏珊送了1个NFT，雷给汤姆送了10个代币。这些事务彼此之间没有任何关系。使用Sui，它们可以同时快速地处理，而不需要每个人都同意订单。



## 共享对象事务

涉及共享对象(如DEX智能合约)的交易需要排序和共识，因为多个用户可能试图同时与同一个对象进行交互。因此，必须有某种事务顺序感。虽然共享对象交易必须经过共识，但Sui的新共识机制仍然能够快速完成交易。在Sui中，排序和共识有两个单独的协议，分别称为arwhal 和 Bullshark。除了在完成之前增加了排序和共识之外，该过程与拥有对象事务非常相似。让我为你总结一下这个过程:发送者将交易发送到网络。如果交易符合其要求，则通过权益证明机制进行投票。发送方收集投票，创建一个未签名的证书，作为拜占庭容错的证明。发送方与网络共享此未签名证书。然后，Sui验证者使用独角鲸和牛鲨就交易输出的顺序和有效性达成共识。用户返回签名的证书，该证书表示事务的结束。简而言之，在签署证书之前，该过程与拥有对象事务非常相似。共享对象事务要求Sui验证者在签署证书之前就事务的顺序和结果达成共识。对于我们的传家宝的例子，想象一个家庭成员想要出售古董，但是在这个行动发生之前，其他家庭成员必须同意。



## 结束语

恭喜!虽然我们仍在研究理论，但要知道，在为自己的应用程序做出设计决策时，它对您的帮助是极其重要的。接下来，我们将通过Sui区块链的特性来了解更多。下一节再见!

## quiz

### Sui 区块链基本架构中的三个关键因素是什么？Sui 中对象的所有权模型与以太坊等其他区块链有何不同？